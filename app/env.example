# =============================================================================
# APPLICATION - API, Admin, Frontend Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# Command: cp env.example .env
# =============================================================================

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_ENVIRONMENT=development
APP_NAME=vms-backend
BASE_URL=http://localhost:8457/api/v1

# =============================================================================
# DATABASE CONNECTION (from database service)
# =============================================================================
DATABASE_NAME=vms_development
DATABASE_USER=admin
DATABASE_PASSWORD=change_me
DATABASE_HOST=nayarta-postgres
DATABASE_PORT=5432

# =============================================================================
# CLICKHOUSE CONNECTION (from analytics/clickhouse service)
# =============================================================================
CLICKHOUSE_DATABASE=default
CLICKHOUSE_HOST=nayarta-clickhouse
CLICKHOUSE_USER=change_me
CLICKHOUSE_PASSWORD=change_me
CLICKHOUSE_PORT=8123
CLICKHOUSE_SECURE=false

# =============================================================================
# OBJECT STORAGE CONNECTION (from storage service)
# =============================================================================
OBJECT_STORAGE_ACCESS_KEY_ID=nayarta_app
OBJECT_STORAGE_ACCESS_KEY_SECRET=nayarta_app_password_change_me
OBJECT_STORAGE_DEFAULT_BUCKET=nayarta-storage
MINIO_ENDPOINT=http://nayarta-minio:9000
MINIO_REGION=us-east-1
MINIO_USE_SSL=false
MINIO_USE_PATH_STYLE=true
MINIO_PROVIDER=minio

# =============================================================================
# MQTT CONNECTION (from stream service)
# =============================================================================
MQTT_HOST=nayarta-mqtt
MQTT_USER=change_me
MQTT_USER_PASS=change_me
MQTT_PORT=1883
MQTT_TLS=false

# =============================================================================
# EXTERNAL API CREDENTIALS
# =============================================================================
FACE_SEARCH_BASE_URL=https://faceapi.nayarta.id
TELEGRAM_API_BASE_URL=https://api.telegram.org
TELEGRAM_BOT_TOKEN=change_me

# =============================================================================
# AI/VLM SERVICE CREDENTIALS
# =============================================================================
VLM_UNDERSTANDING_API_KEY=your_vlm_api_key_here
VLM_UNDERSTANDING_BASE_URL=https://api.example.com/v2/example
VLM_UNDERSTANDING_S3_ENDPOINT=http://nayarta-minio:9000
VLM_UNDERSTANDING_WEBHOOK_URL=http://nayarta-vms-api:8080/api/v1/webhooks/ai-summary

# =============================================================================
# EMAIL/SMTP CREDENTIALS
# =============================================================================
FROM_EMAIL=reply@mail.beesar.id
SMTP_HOST=change_me
SMTP_USERNAME=change_me
SMTP_PASSWORD=change_me
SMTP_PORT=587

# =============================================================================
# JWT/AUTHENTICATION
# =============================================================================
JWT_EXPIRATION_MINUTES=60
REFRESH_TOKEN_EXPIRATION_MINUTES=1440

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=stdout

# =============================================================================
# ADMIN SERVICE CONFIGURATION
# =============================================================================
ADMIN_NEXTAUTH_URL=http://localhost:8456
ADMIN_SECRET_KEY=change-me
ADMIN_DATABASE_URL=postgresql://admin:change_me@nayarta-postgres:5432/vms_development

# =============================================================================
# FRONTEND SERVICE CONFIGURATION
# =============================================================================
FRONTEND_API_BASE_URL=http://localhost:8457/api/v1
FRONTEND_NEXTAUTH_URL=http://localhost:80
FRONTEND_DATABASE_URL=postgresql://admin:change_me@nayarta-postgres:5432/vms_development
FRONTEND_JWT_PRIVATE_KEY_BASE64=change-me-jwt-private-key-base64

# =============================================================================
# DISTRIBUTED DEPLOYMENT OVERRIDES
# =============================================================================
# Uncomment and modify these for distributed deployment:

# External Database Server
# DATABASE_HOST=nayarta-postgres-server.local
# DATABASE_PORT=5432

# External MinIO Server
# MINIO_ENDPOINT=http://nayarta-minio-server.local:9100

# External MQTT Broker
# MQTT_HOST=nayarta-mqtt-server.local
# MQTT_PORT=1883

# External ClickHouse Server
# CLICKHOUSE_HOST=nayarta-clickhouse-server.local
# CLICKHOUSE_PORT=8123

# =============================================================================
# NOTES
# =============================================================================
# 1. This file contains all environment variables used by app/docker-compose.yml
# 2. Container names are used for internal communication (nayarta-postgres, nayarta-minio, etc.)
# 3. For distributed deployment, update the *_HOST variables above
# 4. Change all passwords before production deployment
# 5. OBJECT_STORAGE_* variables are used by the application for MinIO access
# 6. Individual service configs are in ./config/env/*.env (if needed)
# =============================================================================
